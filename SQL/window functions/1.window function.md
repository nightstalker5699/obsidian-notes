### Summary of "Looking Through The Window English.txt"

The text dives into **window functions** in SQL, explaining their purpose, syntax, and practical applications. Here are the key points:

---

#### **1. What Are Window Functions?**  
- **Definition**: Window functions perform calculations across a "window" (subset) of rows related to the current row, **without collapsing** the result set (unlike `GROUP BY`).  
- **Key Feature**: They add a new column to the output, preserving the original row count.  
- **Syntax**:  
  ```sql
  FUNCTION_NAME() OVER (PARTITION BY column ORDER BY column)
  ```
  - The `OVER` clause defines the window.  
  - `PARTITION BY` splits data into groups (like `GROUP BY` but without aggregation).  
  - `ORDER BY` sorts rows within the window (e.g., for running totals).  

#### **2. Why Use Window Functions?**  
- **Problem**: Traditional `GROUP BY` aggregates data but loses individual row details.  
- **Solution**: Window functions enable:  
  - **Row-level comparisons**: Show individual salaries alongside department averages.  
  - **Rankings**: Identify top performers per group.  
  - **Cumulative metrics**: Calculate running totals or moving averages.  

#### **3. Example: Comparing Salaries to Max Salary**  
- **Query**:  
  ```sql
  SELECT salary, MAX(salary) OVER() AS max_salary FROM salaries;
  ```
  - Adds a column showing the highest salary company-wide beside each employeeâ€™s salary.  
- **Performance Note**: Window functions execute **per row**, so large datasets (e.g., 10M rows) slow down queries.  

#### **4. Window Scope & Execution Order**  
- **Filters (`WHERE`)**: Narrow the window.  
  - Example: Filtering salaries below $70K ensures `MAX()` only considers those rows.  
- **Limits (`LIMIT`)**: Do **not** affect the window.  
  - `LIMIT 100` still calculates `MAX()` over the entire dataset but displays only 100 rows.  

#### **5. Practical Applications**  
- **Department Averages**:  
  ```sql
  SELECT name, salary, AVG(salary) OVER(PARTITION BY department) AS dept_avg 
  FROM employees;
  ```
- **Use Cases**:  
  - Financial analysis (e.g., YoY growth).  
  - Employee performance benchmarking.  
  - Time-series data (e.g., rolling averages).  

#### **6. Key Takeaways**  
- **Preserves Granularity**: Unlike `GROUP BY`, window functions retain individual rows.  
- **Flexible Analysis**: Enables complex comparisons without subqueries or joins.  
- **Performance Trade-off**: Computationally expensive for large datasets.  

---

### **Next Steps**:  
Explore advanced window functions like:  
- `ROW_NUMBER()`: Rank rows within partitions.  
- `LAG()`/`LEAD()`: Access previous/next row values.  
- `RANK()`: Handle ties in rankings.  

Window functions are indispensable for **analytical SQL**, bridging the gap between detailed data and aggregate insights.