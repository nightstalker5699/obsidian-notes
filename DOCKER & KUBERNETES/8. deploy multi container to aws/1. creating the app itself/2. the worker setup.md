### **Worker Process Setup Summary**  

#### **Purpose**  
- The **worker** is a separate Node.js process that:  
  1. Watches **Redis** for new Fibonacci indices.  
  2. Calculates the Fibonacci value for each index.  
  3. Stores results back in Redis.  

#### **Key Files**  
1. **`package.json`**  
   - Dependencies:  
     - `nodemon` (live reload during development).  
     - `redis` client (`v2.8.0`) to connect to Redis.  
   - Scripts:  
     - `start`: Runs `index.js`.  
     - `dev`: Runs with `nodemon` for development.  

2. **`keys.js`**  
   - Stores Redis connection details (host/port) from environment variables:  
     ```javascript
     module.exports = {
       redisHost: process.env.REDIS_HOST,
       redisPort: process.env.REDIS_PORT
     };
     ```

3. **`index.js`**  
   - **Imports**: Redis client and connection keys.  
   - **Redis Setup**:  
     - Creates a Redis client with auto-reconnect (retry every 1s).  
     - Duplicates the client for pub/sub (subscription to new messages).  
   - **Fibonacci Logic**:  
     ```javascript
     function fib(index) {
       if (index < 2) return 1;
       return fib(index - 1) + fib(index - 2); // Slow recursive solution (intentional)
     }
     ```  
   - **Worker Logic**:  
     - Subscribes to Redis "insert" events.  
     - On new messages (indices), calculates the Fibonacci value and stores it in Redis:  
       ```javascript
       sub.on("message", (channel, message) => {
         redisClient.hset("values", message, fib(parseInt(message)));
       });
       sub.subscribe("insert");
       ```  

#### **Why This Design?**  
- **Decoupling**: Separates calculation (worker) from the API (Express).  
- **Performance**: Uses Redis pub/sub for real-time updates.  
- **Simulated Slow Process**: Recursive Fibonacci is intentionally inefficient to justify a worker.  

#### **Validation**  
- Run `node index.js` to check for syntax errors (expected error: "Cannot find module Redis").  

#### **Next Steps**  
- The worker will later be containerized and linked to Redis/Postgres in Docker.  

---  
**Note**: This setup is purely for learning multi-container workflows—real-world Fibonacci apps wouldn’t need this complexity!